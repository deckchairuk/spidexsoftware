!function(e){function t(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function n(){for(var e,t=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),o=0;o<n.length;o++)e=n[o].split("="),t.push(e[0]),t[e[0]]=e[1];return t}var o=function(){var t=e(".filters--resource .tag");t.select2({width:"resolve"}),$tagQS=n().tag,t.find("option[value="+$tagQS+"]").attr("selected","selected"),t.trigger("change.select2")},i=function(){var t=e("header, body");e(window).scrollTop()>1?t.addClass("shrink"):t.removeClass("shrink")},r=function(){var t=!1,n=e("body");e("header").outerHeight();e(".support-toggle").on("click",function(e){t?(n.removeClass("support-nav--open"),t=!1):(n.addClass("support-nav--open"),t=!0)})},a=function(){var t=!1,n=e("body");e(".mobile-nav-toggle").click(function(){t?(n.removeClass("mobile-nav-open"),t=!1):(n.addClass("mobile-nav-open"),t=!0)})},s=function(){e("form.filters input[type=submit]").click(function(n){n.preventDefault();var o=e("form.filters input.search").val(),i=t(i=e("form.filters .select2-selection__rendered").attr("title")),r=[location.protocol,"//",location.host,location.pathname].join("")+"?search="+o;if("any"!=i)r=r+"&tag="+i;e("#resource-list").load(r+" #resource-list"),e(".reset").show()})},l=function(){var t=e(".partner__details");e(".partner").bind({mouseenter:function(){t.stop().hide(),e(this).find(".partner__details").stop().fadeIn("fast")},mouseleave:function(){e(this).find(".partner__details").stop().hide()}}),e(".partner").on("click",function(){var n=e(this).find(".partner__details");n.is(":visible")?n.stop().hide():(t.hide(),n.stop().fadeIn("fast"))}),e(document).on("click",function(n){0===e(n.target).closest(".partner").length&&t.hide()}),e(document).on("keydown",function(e){27===e.keyCode&&t.hide()})};e(function(){o(),s(),i(),r(),a(),l(),e(".article .article__thumbnail").matchHeight(),e(".article .article__details").matchHeight(),e(".match-height").matchHeight()}),e(window).scroll(function(){i()})}(jQuery);